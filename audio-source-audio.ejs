<% layout('layout/layout')%>

<%script('/scripts/audio-source-audio/index.js')%>
<%script('/scripts/audio-source-audio/taglib.js')%>

<%block('linkCSS', '/css/audio-source-audio/styles.css')%>

<%block('title', 'Плеер на WEB Audio API')%>

<h1 class="header">Альтернативная реализация плеера на Web Audio API с источником звука из &#60;audio&#62;</h1>
<p class="paragraph">В отличие от <a href="/3-buffer-source">первой реализации</a> здесь реализована пауза песни и постепенная буфферизация, чего нет в первоначальной реализации.</p>
<p class="paragraph">Использование &#60;audio&#62; гарантирует работоспособность плеера, потому что все браузеры, поддерживающие &#60;audio&#62;, поддерживают и Web Audio API.</p>

<div class="dragzone"></div>

<input type="file" name="song" id="file" accept="audio/*" class="input-file"/>

<div class="music-player">
    <div class="music-player__wrapper-open-file">
        <label for="file" id="openfile" class="button-input-file">ВЫБРАТЬ ПЕСНЮ С ЛОКАЛЬНОГО ДИСКА</label>
        <span class="song-file">Проигрываемый файл</span>
    </div>
    <div class="song-info">
        <span class="song-info__artist block">Артист</span>
        <span class="song-info__title block">Название</span>
    </div>
    <div class="player-controls">
        <button class="player-controls__button player-controls__button_play">PLAY</button>
        <button class="player-controls__button player-controls__button_stop">STOP</button>
    </div>

    <div class="choose-equalizer">
        <label class='choose-equalizer__name' for="jazzEQ">Jazz</label>
        <input class='choose-equalizer__input' type="radio" name="equalize" id="jazzEQ" value="jazz" onclick="changeEQ(this, 'jazz')"/>

        <label class='choose-equalizer__name' for="rockEQ">Rock</label>
        <input class='choose-equalizer__input' type="radio" name="equalize" id="rockEQ" value="rock" onclick="changeEQ(this, 'rock')"/>

        <label class='choose-equalizer__name' for="popEQ">Pop</label>
        <input class='choose-equalizer__input' type="radio" name="equalize" id="popEQ" value="pop" onclick="changeEQ(this, 'pop')"/>

        <label class='choose-equalizer__name' for="classicEQ">Classic</label>
        <input class='choose-equalizer__input' type="radio" name="equalize" id="classicEQ" value="classic" onclick="changeEQ(this, 'classic')"/>

        <label class='choose-equalizer__name' for="normalEQ">Normal</label>
        <input class='choose-equalizer__input' type="radio" name="equalize" id="normalEQ"  value="normal" onclick="changeEQ(this, 'normal')"/>

    </div>

    <canvas class="visualization">

    </canvas>
</div>